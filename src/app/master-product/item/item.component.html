<div class="container">
    <form [formGroup]="itemForm" (ngSubmit)="this[btnButton.method]()">
        <div class="card">
            <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-fussion">
                <p style="color: #fff; font-size: 1.5em;"><strong>Please wait...</strong></p>
            </ngx-spinner>
            <div class="col-md-12 col-lg-12">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="shortcode">Item Short Code</label>
                                <input type="text" class="form-control" formControlName="shortcode"
                                placeholder="Enter item shortcode" [ngClass]="{ 'is-invalid' : submitted && itemControl.shortcode.errors}">
                                <div *ngIf="submitted && itemControl.shortcode.errors" class="text-danger">
                                    <div *ngIf="itemControl.shortcode.errors.required">This feild is mandatory.</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="name">Item</label>
                                <input type="text" class="form-control" formControlName="name"
                                placeholder="Enter item name" [ngClass]="{ 'is-invalid' : submitted && itemControl.name.errors}">
                                <div *ngIf="submitted && itemControl.name.errors" class="text-danger">
                                    <div *ngIf="itemControl.name.errors.required">This feild is mandatory.</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="brand">Brand</label>
                                <ng-select id="brand" [items]="brands" bindLabel="name" bindValue="_id"
                                    placeholder="-- choose brand --" formControlName="brand" [closeOnSelect]="true" [ngClass]="{ 'is-invalid' : submitted && itemControl.brand.errors}">
                                </ng-select>
                                <div *ngIf="submitted && itemControl.brand.errors" class="text-danger">
                                    <div *ngIf="itemControl.brand.errors.required">This feild is mandatory.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="cost_rate">Default Purchase Price</label>
                                <input type="text" class="form-control" placeholder="Enter cost rate" formControlName="cost_rate" >
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="sell_rate">Default Selling Price</label>
                                <input type="text" id="sell_rate" class="form-control" name="sell_rate"
                                    formControlName="sell_rate" placeholder="Enter selling rate">
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label for="units">Units of measurement</label>
                                <select formControlName="units" class="form-control" [ngClass]="{ 'is-invalid' : submitted && itemControl.units.errors}">
                                    <option value=null disabled> -- choose units -- </option>
                                    <option *ngFor="let units of unitOption">
                                        {{units}}
                                    </option>
                                </select>
                                <div *ngIf="submitted && itemControl.units.errors" class="text-danger">
                                    <div *ngIf="itemControl.units.errors.required">This feild is mandatory.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 btn-noLabel text-right">
                <button type="button" (click)="ngOnInit()" class="btn btn-round">Reset</button>
                <button type="submit" class="btn btn-round btn-warning" style="margin-left: 10px;">{{ btnButton.label }}</button>
            </div>
        </div>
    </form>
    <div class="card" style="margin-top: 10px;">
        <div class="card-body">
            <div class="row">
                <div class="col-md-12">
                    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered"
                        cellspacing="0" width="100%"></table>
                </div>
            </div>
        </div>
    </div>
</div>
